<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€‰æ‹©é¢è¯•å®˜ç±»å‹ - AIé¢è¯•å®˜</title>
    <link rel="stylesheet" href="../public/styles/main.css">
    <style>
        .page-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .interviewers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        .interviewer-card {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 30px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        .interviewer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .interviewer-card.selected {
            border-color: #667eea;
            background: #f8f9ff;
        }
        .interviewer-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        .interviewer-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .interviewer-description {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .interviewer-features {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }
        .interviewer-features li {
            padding: 5px 0;
            color: #5f6368;
            position: relative;
            padding-left: 20px;
        }
        .interviewer-features li:before {
            content: "âœ“";
            color: #27ae60;
            position: absolute;
            left: 0;
        }
        .checkbox {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        .interviewer-card.selected .checkbox {
            background: #667eea;
            border-color: #667eea;
        }
        .interviewer-card.selected .checkbox:after {
            content: "âœ“";
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 8px;
            cursor: help;
        }
        .tooltip-icon {
            color: #667eea;
            font-size: 1rem;
        }
        .tooltip-text {
            visibility: hidden;
            width: 200px;
            background: #2c3e50;
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
        }
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        .start-btn {
            width: 100%;
            max-width: 400px;
            padding: 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background 0.3s ease;
            margin: 40px auto 0;
            display: block;
        }
        .start-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        .start-btn:not(:disabled):hover {
            background: #5a6fd8;
        }
        .selection-hint {
            text-align: center;
            color: #7f8c8d;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="progress-bar">
        <div class="progress-step completed">1. é€‰æ‹©å²—ä½</div>
        <div class="progress-step completed">2. ä¸Šä¼ ç®€å†</div>
        <div class="progress-step active">3. é¢è¯•å®˜ç±»å‹</div>
        <div class="progress-step">4. æ¨¡æ‹Ÿè®­ç»ƒ</div>
    </div>

    <div class="page-container">
        <h1 class="page-title">é€‰æ‹©é¢è¯•å®˜ç±»å‹</h1>
        <p class="page-subtitle">é€‰æ‹©æ‚¨å¸Œæœ›é¢å¯¹çš„é¢è¯•å®˜ç±»å‹ï¼Œå¯å¤šé€‰ä»¥æ¨¡æ‹Ÿç»¼åˆé¢è¯•åœºæ™¯</p>

        <div class="selection-hint">
            å·²é€‰æ‹© <span id="selectedCount">0</span> ç§é¢è¯•å®˜ç±»å‹
        </div>

        <div class="interviewers-grid">
            <div class="interviewer-card" data-type="HR">
                <div class="checkbox"></div>
                <div class="interviewer-icon">ğŸ’¼</div>
                <h3 class="interviewer-title">
                    HRé¢è¯•å®˜
                    <span class="tooltip">
                        <span class="tooltip-icon">â„¹ï¸</span>
                        <span class="tooltip-text">è€ƒå¯Ÿç»¼åˆç´ è´¨ã€æ–‡åŒ–åŒ¹é…åº¦ã€èŒä¸šè§„åˆ’</span>
                    </span>
                </h3>
                <p class="interviewer-description">è€ƒå¯Ÿç»¼åˆç´ è´¨ã€æ–‡åŒ–åŒ¹é…ä¸èŒä¸šå‘å±•</p>
                <ul class="interviewer-features">
                    <li>åŠ¨æœºä¸ä»·å€¼è§‚è€ƒå¯Ÿ</li>
                    <li>æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›è¯„ä¼°</li>
                    <li>èŒä¸šè§„åˆ’ä¸å‘å±•</li>
                    <li>å›¢é˜Ÿåä½œèƒ½åŠ›</li>
                </ul>
            </div>

            <div class="interviewer-card" data-type="Tech">
                <div class="checkbox"></div>
                <div class="interviewer-icon">ğŸ”§</div>
                <h3 class="interviewer-title">
                    æŠ€æœ¯é¢è¯•å®˜
                    <span class="tooltip">
                        <span class="tooltip-icon">â„¹ï¸</span>
                        <span class="tooltip-text">æ·±å…¥è€ƒå¯ŸæŠ€æœ¯èƒ½åŠ›ã€é¡¹ç›®ç»éªŒã€è§£å†³é—®é¢˜èƒ½åŠ›</span>
                    </span>
                </h3>
                <p class="interviewer-description">æ·±å…¥è€ƒå¯ŸæŠ€æœ¯èƒ½åŠ›ä¸é¡¹ç›®ç»éªŒ</p>
                <ul class="interviewer-features">
                    <li>æŠ€æœ¯æ·±åº¦ä¸å¹¿åº¦</li>
                    <li>é¡¹ç›®ç»†èŠ‚è¿½é—®</li>
                    <li>ç®—æ³•ä¸ç¼–ç èƒ½åŠ›</li>
                    <li>æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡</li>
                </ul>
            </div>

            <div class="interviewer-card" data-type="Manager">
                <div class="checkbox"></div>
                <div class="interviewer-icon">ğŸ‘¨â€ğŸ’¼</div>
                <h3 class="interviewer-title">
                    ç”¨äººç»ç†
                    <span class="tooltip">
                        <span class="tooltip-icon">â„¹ï¸</span>
                        <span class="tooltip-text">å…³æ³¨ä¸šåŠ¡ç†è§£ã€ç›®æ ‡å¯¼å‘ã€å›¢é˜Ÿè´¡çŒ®</span>
                    </span>
                </h3>
                <p class="interviewer-description">å…³æ³¨ä¸šåŠ¡ç†è§£ä¸å›¢é˜Ÿè´¡çŒ®</p>
                <ul class="interviewer-features">
                    <li>ä¸šåŠ¡ç›®æ ‡ç†è§£</li>
                    <li>å›¢é˜Ÿåä½œç»éªŒ</li>
                    <li>é—®é¢˜è§£å†³èƒ½åŠ›</li>
                    <li>ç»©æ•ˆä¸äº§å‡º</li>
                </ul>
            </div>

            <div class="interviewer-card" data-type="Stress">
                <div class="checkbox"></div>
                <div class="interviewer-icon">âš¡</div>
                <h3 class="interviewer-title">
                    å‹åŠ›é¢è¯•å®˜
                    <span class="tooltip">
                        <span class="tooltip-icon">â„¹ï¸</span>
                        <span class="tooltip-text">æ¨¡æ‹Ÿé«˜å‹ç¯å¢ƒï¼Œæµ‹è¯•åº”å˜èƒ½åŠ›å’Œå¿ƒç†ç´ è´¨</span>
                    </span>
                </h3>
                <p class="interviewer-description">æ¨¡æ‹Ÿé«˜å‹ç¯å¢ƒæµ‹è¯•åº”å˜èƒ½åŠ›</p>
                <ul class="interviewer-features">
                    <li>å¿«é€Ÿååº”æµ‹è¯•</li>
                    <li>å†²çªåœºæ™¯å¤„ç†</li>
                    <li>æŠ—å‹èƒ½åŠ›è¯„ä¼°</li>
                    <li>æƒ…ç»ªç¨³å®šæ€§</li>
                </ul>
            </div>
        </div>

        <button type="button" 
                class="start-btn"
                id="startBtn"
                data-action="Sim.Start"
                data-test="start-simulation-btn"
                aria-label="å¼€å§‹æ¨¡æ‹Ÿé¢è¯•è®­ç»ƒ"
                disabled>
            å¼€å§‹æ¨¡æ‹Ÿè®­ç»ƒ
        </button>
    </div>

    <script src="../public/scripts/delegate.js"></script>
    <script src="../public/scripts/actions.js"></script>
    <script src="../public/scripts/state.js"></script>
    <script>
        const selectedTypes = new Set();

        document.querySelectorAll('.interviewer-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const type = card.dataset.type;
                
                if (selectedTypes.has(type)) {
                    selectedTypes.delete(type);
                    card.classList.remove('selected');
                } else {
                    selectedTypes.add(type);
                    card.classList.add('selected');
                }

                updateSelectionState();
            });
        });

        function updateSelectionState() {
            const count = selectedTypes.size;
            document.getElementById('selectedCount').textContent = count;
            document.getElementById('startBtn').disabled = count === 0;

            // ä¿å­˜é€‰æ‹©çŠ¶æ€åˆ°state
            if (window.updateInterviewerSelection) {
                window.updateInterviewerSelection(Array.from(selectedTypes));
            }
        }

        // å¼•å¯¼ç³»ç»Ÿ
        if (new URLSearchParams(window.location.search).has('guide')) {
            setTimeout(() => {
                toast('è¯·é€‰æ‹©è‡³å°‘ä¸€ç§é¢è¯•å®˜ç±»å‹ï¼Œå¯ä»¥å¤šé€‰ä»¥æ¨¡æ‹Ÿç»¼åˆé¢è¯•åœºæ™¯');
            }, 1000);
        }
    </script>
</body>
</html>